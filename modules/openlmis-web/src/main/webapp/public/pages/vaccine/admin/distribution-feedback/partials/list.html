<style>

    .tree {
        height: 200px !important;
        overflow-y: scroll;
    }

</style>
<div xmlns="http://www.w3.org/1999/html">
    <h2><span>VIMS - TIMR Distribution Summary</span>
    </h2>
<div class="row-fluid">
    <div class="span4">
        <div class="tree">
            <div id="tree"></div>
        </div>
    </div>
    <div class="span2">
        <div class="horizontalFilters form-cell">
            <div>


                <div class="horizontalFilters form-cell">
                    <label for="txtPeriodStartDate" class="labels" ><span openlmis-message="label.start.date"></span></label>
                    <div>
                        <input id="txtPeriodStartDate" ng-model="periodStartDate" ng-change="changeDates()" ui-date-format="yy-mm-dd" ui-date/>
                    </div>
                </div>

                <div class="horizontalFilters form-cell">
                    <label for="txtPeriodEnddate" class="labels" ><span openlmis-message="label.end.date"></span></label>
                    <div>
                        <input id="txtPeriodEnddate" ng-model="periodEndDate" ng-change="changeDates()" ui-date-format="yy-mm-dd" ui-date/>
                    </div>
                </div>
                <div class="clearfix"></div>
                <br/>
                <div class="pull-right">
                    <span ><input type="button" style="color:cadetblue" value="Search" class="btn-small" ng-click="searchData()"></span>
                </div>
            </div>
        </div>
    </div>

    <div class="span6">
        <span><i><p style="color: #abd4e8; ">Please select the district/periods then click search button to get distributions !</p></i></span>

    </div>


</div>





    <!--<input id="txtFilterDonors" class="search-query input-xlarge" type="text" ng-model="query"
       placeholder="Enter district/Region"/>-->

<div class="clearfix"></div>
<br>
    <br/>
    <div ng-show="showMessage"><span><p style="color: red"><i>{{message}} !!!</i></p></span></div>
<div ng-show="distributions.length == 0 && showMessage ==false">No data to show</div>
<div ng-show="showMessage ==false && distributions.length >0">


<table class="table table-striped table-bordered">
    <thead>
    <tr class="gradient-header">
        <th class="col-row-number">#</th>
        <th><span>Region Name</span></th>
        <th><span>From Facility</span></th>
        <th><span>To Facility</span></th>
        <th><span>Is Sent to TIMR</span></th>
        <th><span>Distributed Date</span></th>
        <th><span>Distributed By</span></th>
        <th><span> </span></th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="distribute in distributions | filter : query">
        <td>{{$index + 1}}</td>
        <td>{{distribute.region_name}}</td>
        <td>{{distribute.fromfacility}}</td>
        <td>{{distribute.tofacility}}</td>
        <td>
        <span ng-if="distribute.sent===false">No</span>
        <span ng-if="distribute.sent===true">Yes</span>
        </td>
        <td>{{distribute.createddate | date:format('dd-mm-yyyy')}}</td>
        <td>{{distribute.name}}</td>
        <td><a href="" ng-click="openDistribution(distribute.distributionid,distribute.facilityid)">View Proof Of Delivery</a></td>

    </tr>
    </tbody>
</table>

</div>

</div>