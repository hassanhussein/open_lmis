<!--
  ~ This program is part of the OpenLMIS logistics management information system platform software.
  ~ Copyright © 2013 VillageReach
  ~
  ~ This program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
  ~  
  ~ This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more details.
  ~ You should have received a copy of the GNU Affero General Public License along with this program.  If not, see http://www.gnu.org/licenses.  For additional information contact info@OpenLMIS.org. 
  -->

<style>

  .info-box {

   border:0px !important;

  }
  .breadcrumb {

   margin-bottom: 2px;

  }

  .content h2 {
    border-bottom: 1px solid #d6d6d6 !important;
        font-size: 1.2em;
    }
    .row{
    margin: 10px 0;
    }

   span {

   padding-left: 18px;
   height: 40px !important;
   padding-top: 8px !important;

   }
   .cell-input {
    text-align:center;
   }

</style>

<div id="requisition-header" class="toggleFullScreen">
    <h2>
        <span class="pull-right" ng-show="true">
      <a id="printButtonOnHeader" class="btn btn-primary"
         ng-href="/requisitions/{{rnr.id}}/print.pdf?reportOnly={{!rnr.period.enableOrder}}"
         target="_blank" openlmis-message="button.print"></a>
    </span>

    </h2></br></br>

    <div class="info-box padding2px">
        <!--   <div class="pull-left">
               <div ng-class="{'emergency': rnr.emergency, 'regular': !rnr.emergency}">
                   <span openlmis-message="requisitionType"></span>
               </div>

           </div>-->
        <div class="pull-left requisition-head-block">
            <div class="row-fluid" id="requisition-head-block">
                <div class="span2">
                    <strong id='facilityLabel'> Msd Zone </strong>:&nbsp;<span
                        id='facility' ng-bind="headers.zone"></span>
                </div>
                <div class="span3">
                    <strong id='operatedByLabel'>Sold To</strong>: &nbsp;<span
                        id='operatedBy' ng-bind="headers.soldTo"></span>
                </div>

                <div class="span4">
                    <strong id='emergencyOrderLabel' >Facility</strong>:
                    &nbsp;<span
                        id='emergencyOrderPoint' ng-bind="headers.soldToCustomerName"></span>
                </div>

                <div class="span3">
                    <strong id='emergencyOrderLabel' >Invoice Number</strong>:
                 <span
                        id='emergencyOrderPoint' ng-bind="headers.invoiceNumber"></span>
                </div>
            </div>
            <div class="row-fluid" id="requisition-head-block">
                <div class="span3">
                    <strong><span id='geographicZoneLabel'>Sales Category</span>:
                    </strong><span
                        id='geographicZone' ng-bind="headers.salesCategory"></span>
                </div>
                <div class="span3">
                    <strong><span id='parentLevelLabel' ng-bind="rnr.facility.geographicZone.parent.level.name"></span>:
                    </strong><span
                        id='parentLevel' ng-bind="rnr.facility.geographicZone.parent.name"></span>
                </div>

                <div class="span3" ng-if="!rnr.facility.isHidTu">
                    <strong id='reportingPeriodLabel' openlmis-message="label.facility.reportingPeriod"></strong>:&nbsp;<span
                        id='reportingPeriod' ng-bind="rnr.periodDisplayName()"></span>
                </div>
                <div class="span3" ng-if="!rnr.program.canTrackCovid">
                    <strong id='sourceLabel' openlmis-message="label.rnr.source"></strong>:&nbsp;<span
                        id='source' ng-bind="rnr.sourceApplication"></span>
                </div>

                <div class="span3" ng-if="rnr.program.canTrackCovid || rnr.program.isMonthlyCovid">
                    <strong id='numberOfStaffLabel'
                            openlmis-message="create.facility.numberOfStaff"></strong>:&nbsp;<span
                        id='staff' ng-bind="rnr.facility.numberOfStaff"></span>
                </div>

            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</div>

<div ng-repeat-start="item in allLineItems">
    <h2><span style="padding-left: 2px !important;">{{item[0].title}}</span></h2>
    <div class="row">
        <div class="col-sm-12" style="background-color:whitesmoke;">

            <div class="row">
                <div id="pod" class="rnr-table" tab-scroll bottom-offset="180">
                    <table id="equipmentTable" fixed-table-header class="table-bordered scrollable">
                        <thead>
                        <tr>

                            <th class="col-product" ng-repeat="columns in item[0].lineItems[0].columns">
                                <div class="regimen-heading">
                                    <span>{{columns.label}}</span>
                                </div>
                            </th>

                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="line in item[0].lineItems"
                            ng-class-odd="'odd'" ng-class-even="'even'"
                            ng-init="$index%2==0?(color='odd'): (color='even')"
                        >
                            <td class="col-product cell-input disabled padding2px" ng-repeat="column in line.columns">
                                <span class="padding2px cell-text">{{(column.name == "expiryDate")?formatDate(line[column.name]):line[column.name]}}</span>
                            </td>

                        </tr>

                        </tbody>
                        <tbody></tbody>
                    </table>
                </div>

            </div>

        </div>
    </div>


</div>
<div ng-repeat-end></div>


