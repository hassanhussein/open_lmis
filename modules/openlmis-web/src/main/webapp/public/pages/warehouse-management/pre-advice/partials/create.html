<!--
  ~ This program is part of the OpenLMIS logistics management information system platform software.
  ~ Copyright Â© 2013 VillageReach
  ~
  ~  This program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
  ~
  ~  This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more details.
  ~  You should have received a copy of the GNU Affero General Public License along with this program.  If not, see http://www.gnu.org/licenses.  For additional information contact info@OpenLMIS.org.
  -->

<div xmlns="http://www.w3.org/1999/html" tab-scroll>
    <div ng-hide="geoZone.id"><h2 id="addNewGeoZoneHeader" >Add New ASN/Pre-advice</h2></div>
    <div ng-show="geoZone.id"><h2 id="editGeoZoneHeader" ></h2></div>

    <form ng-submit="saveGeoZone()" name="geoZoneForm" novalidate>
        <div class="app-form">

            <div id="geoZoneFormGroup" class="form-group clear-top">

                <div class="form-row clearfix">
                    <div class="span4">
                        <label id="codeLabel" for="code">
                            <span >ASN number</span>
                            <span class="label-required"> *</span>
                        </label>

                        <div class="form-field">
                            <input ng-model="asn.code" name="code" id="code" type="text" maxlength="50" ng-required="true"/>
                            <span class="field-error" ng-show="geoZoneForm.code.$error.required && showError"
                                  openlmis-message="missing.value"></span>
                        </div>
                    </div>

                    <div class="span4">
                        <label id="levelLabel">
                            <span>ASN Receipt Date</span>
                            <span class="label-required"> *</span>
                        </label>

                        <div class="form-field">
                            <input ng-required="(distribution !== undefined && !noVoucherNumber) || hasPermission('OPEN_STOCK_RECEIVING_PROCESS')"
                                   id="receivingDate" name="receivingDate" type="text"
                                   ui-date="{dateFormat: 'dd/mm/yy', changeYear: false,maxDate:'today',minDate:period.stringStartDate}"
                                   ui-date-format="yy-mm-dd"
                                   ng-model="occurredDate"/>
                        </div>
                    </div>
                    <div class="span4">
                        <label id="levelLabel">
                            <span >Expected Delivery Date</span>
                            <span class="label-required"> *</span>
                        </label>

                        <div class="form-field">
                            <input ng-required="(distribution !== undefined && !noVoucherNumber) || hasPermission('OPEN_STOCK_RECEIVING_PROCESS')"
                                   id="receivingDate" name="receivingDate" type="text"
                                   ui-date="{dateFormat: 'dd/mm/yy', changeYear: false,maxDate:'today',minDate:period.stringStartDate}"
                                   ui-date-format="yy-mm-dd"
                                   ng-model="occurredDate"/>
                        </div>
                    </div>


                    <div>



                    </div>


                </div>

                <div class="form-row clearfix">


                    <div class="span4">
                        <label id="parentLabel" >Supplier</label>

                        <div class="form-field row-fluid">
                            <select ui-select2="{width: '90%'}" class="span11" id="selectParentGeoZone" ng-model="geoZone.parent.code"
                                    openlmis-message="label.select.parent.zone">
                                <option value=""></option>
                                <optgroup ng-repeat="geoZoneLevel in parentLevels" label="{{ geoZoneLevel }}">
                                    <option ng-repeat="parentGeoZone in parentGeoZones" ng-if="parentGeoZone.level.name === geoZoneLevel"
                                            value="{{ parentGeoZone.code }}">
                                        {{ parentGeoZone.name }}
                                    </option>
                                </optgroup>
                            </select>
                            <span class="field-error" ng-show="geoZoneForm.parent.code.$error.required && showError"
                                  openlmis-message="missing.value"></span>
                        </div>
                    </div>
                    <div class="span4">
                        <label id="codeLabel" for="code">
                            <span >PO number</span>
                            <span class="label-required"> *</span>
                        </label>

                        <div class="form-field">
                            <input ng-model="asn.code" name="code" id="code" type="text" maxlength="50" ng-required="true"/>
                            <span class="field-error" ng-show="geoZoneForm.code.$error.required && showError"
                                  openlmis-message="missing.value"></span>
                        </div>
                    </div>

                    <div class="span4">
                        <label id="levelLabel">
                            <span >PO Date</span>
                            <span class="label-required"> *</span>
                        </label>

                        <div class="form-field">
                            <input ng-required="(distribution !== undefined && !noVoucherNumber) || hasPermission('OPEN_STOCK_RECEIVING_PROCESS')"
                                   id="receivingDate" name="receivingDate" type="text"
                                   ui-date="{dateFormat: 'dd/mm/yy', changeYear: false,maxDate:'today',minDate:period.stringStartDate}"
                                   ui-date-format="yy-mm-dd"
                                   ng-model="occurredDate"/>
                        </div>
                    </div>
                </div>



                <div class="form-row clearfix">

                    <div class="form-cell">
                        <label class="checkbox inline">
                            <input type="radio" name="productType"  value="1" checked="checked"  > Vaccines/Associated Products
                        </label>
                        <label class="checkbox inline">
                            <input type="radio" name="productType"  value="2"> Other Items
                        </label>

                    </div>

                </div>


                <div class="form-row clearfix">
                    <ul class="nav nav-tabs">
                        <li class="active">
                            <a href="#tab1" data-toggle="tab" target="_self">Item Info</a>
                        </li>
                        <li ><a href="#tab2" data-toggle="tab" target="_self">Shipment info</a></li>
                        <li ><a href="#tab3" data-toggle="tab" target="_self">Documents</a></li>
                    </ul>

                    <div class="tab-content">
                        <div class="tab-pane active" id="tab1">
                            <table class="table table-striped">
                                <thead>
                                <tr>
                                    <th>Product</th>
                                    <th>Unit of Measurement</th>
                                    <th>Quantity</th>
                                    <th>Unit Price</th>
                                    <th>Total Cost</th>
                                    <th>Action</th>
                                    <th></th>

                                </tr>
                                </thead>
                                <tbody id="append-element">
                                <tr data-ng-repeat="product in products">
                                    <td>
                                        <select>
                                            <option>1</option>
                                            <option>2</option>
                                            <option>3</option>
                                            <option>4</option>
                                            <option>5</option>
                                        </select>
                                    </td>
                                    <td>
                                        <input type="text">
                                    </td>
                                    <td>
                                        <input type="number">
                                    </td>
                                    <td>
                                        <input type="text">
                                    </td>
                                    <td>445</td>
                                    <td><span class="btn btn-link">Lot</span></td>
                                    <td ng-show="$last"><span class="btn btn-danger" ng-click="removeProduct()"><i class="icon-remove"></i></i></span></td>
                                </tr>

                                </tbody>
                                <tfoot>
                                <tr>
                                    <td>
                                        <button class="btn btn-small btn-info" type="button" ng-click="addProduct()">Add Product</button>
                                    </td>
                                </tr>
                                </tfoot>
                            </table>
                        </div>
                        <div class="tab-pane" id="tab2">
                            <div class="form-row clearfix">
                                <div class="span3">
                                    <label id="codeLabel" for="code">
                                        <span >BL/AWB number</span>
                                        <span class="label-required"> *</span>
                                    </label>

                                    <div class="form-field">
                                        <input ng-model="asn.code" name="code" id="code" type="text" maxlength="50" ng-required="true"/>
                                        <span class="field-error" ng-show="geoZoneForm.code.$error.required && showError"
                                              openlmis-message="missing.value"></span>
                                    </div>
                                </div>

                                <div class="span3">
                                    <label id="parentLabel" >Destination Airport/Port</label>

                                    <div class="form-field row-fluid">
                                        <select ui-select2="{width: '90%'}" class="span11" id="selectParentGeoZone" ng-model="geoZone.parent.code"
                                                openlmis-message="label.select.parent.zone">
                                            <option value=""></option>
                                            <optgroup ng-repeat="geoZoneLevel in parentLevels" label="{{ geoZoneLevel }}">
                                                <option ng-repeat="parentGeoZone in parentGeoZones" ng-if="parentGeoZone.level.name === geoZoneLevel"
                                                        value="{{ parentGeoZone.code }}">
                                                    {{ parentGeoZone.name }}
                                                </option>
                                            </optgroup>
                                        </select>
                                        <span class="field-error" ng-show="geoZoneForm.parent.code.$error.required && showError"
                                              openlmis-message="missing.value"></span>
                                    </div>
                                </div>
                                <div class="span3">
                                    <label id="codeLabel" for="code">
                                        <span >Flight/Vessel number</span>
                                        <span class="label-required"> *</span>
                                    </label>

                                    <div class="form-field">
                                        <input ng-model="asn.code" name="code" id="code" type="text" maxlength="50" ng-required="true"/>
                                        <span class="field-error" ng-show="geoZoneForm.code.$error.required && showError"
                                              openlmis-message="missing.value"></span>
                                    </div>
                                </div>

                                <div class="span4">
                                    <label id="levelLabel">
                                        <span >Expected Arrival Date</span>
                                        <span class="label-required"> *</span>
                                    </label>

                                    <div class="form-field">
                                        <input ng-required="(distribution !== undefined && !noVoucherNumber) || hasPermission('OPEN_STOCK_RECEIVING_PROCESS')"
                                               id="receivingDate" name="receivingDate" type="text"
                                               ui-date="{dateFormat: 'dd/mm/yy', changeYear: false,maxDate:'today',minDate:period.stringStartDate}"
                                               ui-date-format="yy-mm-dd"
                                               ng-model="occurredDate"/>
                                    </div>
                                </div>
                        </div>
                            <div class="form-row clearfix">
                                <div class="span3">
                                    <label id="codeLabel" for="code">
                                        <span >Notes</span>
                                        <span class="label-required"> *</span>
                                    </label>

                                    <div class="form-field">
                                        <textarea rows="3" ></textarea>
                                        <span class="field-error" ng-show="geoZoneForm.code.$error.required && showError"
                                              openlmis-message="missing.value"></span>
                                    </div>
                                </div>
                                <div class="span3">
                                    <label id="codeLabel" for="code">
                                        <span >Clearing Agent</span>
                                        <span class="label-required"> *</span>
                                    </label>

                                    <div class="form-field">
                                        <input ng-model="asn.code" name="code" id="code" type="text" maxlength="50" ng-required="true"/>
                                        <span class="field-error" ng-show="geoZoneForm.code.$error.required && showError"
                                              openlmis-message="missing.value"></span>
                                    </div>
                                </div>
                            </div>
                            </div>
                        <div class="tab-pane" id="tab3">
                            <div class="form-row clearfix">
                                <div class="span3">
                                    <div class="row">
                                        <label id="parentLabel" >Upload Type</label>

                                        <div class="form-field row-fluid">
                                            <select ui-select2="{width: '90%'}" class="span11" id="selectParentGeoZone" ng-model="geoZone.parent.code"
                                                    openlmis-message="label.select.parent.zone">
                                                <option value=""></option>
                                                <optgroup ng-repeat="geoZoneLevel in parentLevels" label="{{ geoZoneLevel }}">
                                                    <option ng-repeat="parentGeoZone in parentGeoZones" ng-if="parentGeoZone.level.name === geoZoneLevel"
                                                            value="{{ parentGeoZone.code }}">
                                                        {{ parentGeoZone.name }}
                                                    </option>
                                                </optgroup>
                                            </select>
                                            <span class="field-error" ng-show="geoZoneForm.parent.code.$error.required && showError"
                                                  openlmis-message="missing.value"></span>
                                        </div>
                                    </div>
                                    <div classs="row">

                                        <div class="form-field">
                                            <input type="file">
                                        </div>
                                    </div>

                                </div>

                                <div class="span6 ">


                                    <div  class="row">
                                        <li><span class="btn btn-danger" ><i class="icon-remove"></i></i></span> Airbillway.pdf(Airbillway)</li>
                                        <li><span class="btn btn-danger" ><i class="icon-remove"></i></i></span> Parking li...(Parking list)</label></li>
                                    </div>



                                </div>

                            </div>



                        </div>

                    </div>
                </div>


                <!-- /form-group -->

            </div>
            <div form-toolbar id="action_buttons" class="action-buttons">
                <div class="form-cell button-row">
                    <input id="saveButton" type="submit" class="btn btn-primary save-button"
                           openlmis-message="button.save" ng-click="save()"/>
                    <input id="cancelButton" type="button" class="btn btn-cancel cancel-button" openlmis-message="button.cancel"
                           ng-click="cancel()"/>
                </div>

                <div class="toolbar-error" id="saveErrorMsgDiv" openlmis-message="error" ng-show="error"></div>
            </div>

        </div>
    </form>
</div>


